{% load i18n static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>{% trans "Réinitialisation du mot de passe" %}</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f7f7fa; color: #222; }
    .container { max-width: 480px; margin: 40px auto; background: #fff; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.07); padding: 32px; }
    .logo { display: block; margin: 0 auto 24px; height: 48px; max-width: 160px; }
    h1 { color: #2563eb; font-size: 1.5rem; margin-bottom: 16px; }
    /* keep .btn for progressive enhancement but use table/button inline styles for widest email client support */
    .btn { display: inline-block; background: #2563eb; color: #fff; text-decoration: none; padding: 12px 32px; border-radius: 8px; font-weight: bold; margin: 24px 0; }
    .footer { font-size: 0.9rem; color: #888; margin-top: 32px; text-align: center; }
  </style>
</head>
<body>
  <div class="container">
    {# Logo with fallback: use image when provided, otherwise show text logo #}
    {% if logo_url %}
      <img src="{{ logo_url }}" alt="NEXUS" class="logo" style="display:block;margin:0 auto 24px;height:48px;max-width:160px;">
    {% else %}
      <div style="text-align:center;margin-bottom:16px;">
        <img src="{% static 'images/logo/logo.png' %}" alt="NEXUS" class="logo" style="display:inline-block;height:48px;max-width:160px;">
      </div>
    {% endif %}
      <h1 class="text-blue-600 text-2xl font-semibold mb-4" style="color:#2563eb;font-size:1.5rem;margin-bottom:16px;">{% trans "Réinitialisation du mot de passe" %}</h1>
      <p class="mb-2">{% trans "Bonjour" %} <span class="font-medium">{{ user.get_full_name|default:user.username }}</span>,</p>
      <p class="text-gray-700">{% trans "Vous avez demandé la réinitialisation de votre mot de passe. Cliquez sur le bouton ci-dessous pour choisir un nouveau mot de passe." %}</p>
    {# Button built with a small table and inline styles for best compatibility across email clients #}
    <table role="presentation" cellspacing="0" cellpadding="0" border="0" align="center" style="margin:24px auto;">
      <tr>
        <td align="center" bgcolor="#2563eb" style="border-radius:8px;">
          <a href="{{ reset_url }}" target="_blank" style="font-size:16px;font-family:'Segoe UI', Arial, sans-serif;color:#ffffff !important;text-decoration:none;padding:12px 32px;display:inline-block;font-weight:700;background-color:#2563eb;border-radius:8px;">{% trans "Reset password" %}</a>
        </td>
      </tr>
    </table>
    <p>{% trans "Si vous n'avez pas demandé cette opération, vous pouvez ignorer cet email." %}</p>
    <div class="footer">© 2025 Nexus Telecom</div>
  </div>
</body>
</html>
