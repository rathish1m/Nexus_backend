{% load i18n %}
<div id="orderDetailModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 hidden px-4">
  <div class="bg-white max-w-3xl w-full rounded-2xl shadow-2xl p-6 overflow-y-auto max-h-[90vh] relative animate-fade-in">
    <button onclick="closeOrderModal()" class="absolute top-3 right-4 text-gray-500 hover:text-gray-800 text-2xl leading-none">&times;</button>

    <div class="rounded-t-xl bg-gradient-to-r from-indigo-500 to-sky-500 -mx-6 -mt-6 mb-6 p-6 text-white">
      <h2 class="text-xl sm:text-2xl font-bold flex items-center gap-2">
        <i class="fas fa-receipt text-2xl"></i>
        {% trans "Order Details" %}
      </h2>
      <p class="text-indigo-100 text-sm mt-1">{% trans "Overview of items and totals" %}</p>
    </div>

    <div id="orderDetailContent" class="space-y-6"></div>

    <div class="mt-6 flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 border-t pt-4">
      <button onclick="closeOrderModal()" class="px-5 py-2.5 rounded-lg font-medium text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 transition shadow-sm">
        <i class="fas fa-times-circle mr-1"></i> {% trans "Close" %}
      </button>

      <!-- This download button is reused by both single and consolidated flows -->
      <a id="downloadInvoiceBtn" href="#" class="px-5 py-2.5 rounded-lg font-semibold text-sm bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-md hover:from-emerald-600 hover:to-green-700 transition flex items-center justify-center gap-2" target="_blank" rel="noopener">
        <i class="fas fa-file-invoice"></i>
        {% trans "Download Invoice" %}
      </a>

      <!-- Unified Process Payment button (used for BOTH single & consolidated from JS) -->
      <button id="processFromModalBtn" type="button"
              class="hidden px-5 py-2.5 rounded-lg font-semibold text-sm bg-gradient-to-r from-emerald-600 to-green-600 text-white shadow-md hover:from-emerald-700 hover:to-green-700 transition flex items-center justify-center gap-2">
        <i class="fas fa-credit-card"></i>
        {% trans "Process Payment" %}
      </button>
    </div>
  </div>
</div>
